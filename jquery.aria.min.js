(function(f){function h(c,a,b,d){var p=a,g=f.isPlainObject(a),k=void 0===b&&!g;k||g?k&&g&&(a=Object.keys(a)[0]):(a={},a[p]=b);d&&e[d]||(d="property");return k?e[d].get(c[0],a):c.each(function(b,c){f.each(a,function(a,f){e[d].set(c,a,f,b)})})}function l(c){return this.each(function(a,b){e.property.unset(b,c)})}var m=/^(?:true|false)$/,n=0,q=String.prototype.startsWith||function(c,a){return 0===this.indexOf(c,a)},g=function(c){c=(null===c||void 0===c?"":String(c)).toLowerCase();return q.call(c,"aria-")?
c:"aria-"+c},r=function(c){return c},t=function(c){return f(c).identify(0)},e={property:{set:function(c,a,b,d,e){a=g(a);f.isFunction(b)&&(b=b.call(c,d,a));f.isFunction(e)||(e=r);(c instanceof HTMLElement||void 0===b)&&c.setAttribute(a,e(b))},has:function(c,a){return c instanceof HTMLElement?c.hasAttribute(g(a)):!1},get:function(c,a){return e.property.has(c,a)?c.getAttribute(g(a)):void 0},unset:function(c,a){c instanceof HTMLElement&&c.removeAttribute(g(a))}},reference:{set:function(c,a,b,d){e.property.set(c,
a,b,d,t)},get:function(c,a){return e.property.has(c,a)?f("#"+e.property.get(c,a)):void 0}},state:{read:function a(b){var d=!0;switch(typeof b){case "boolean":d=b;break;case "string":b=b.toLowerCase();"mixed"===b?d=b:"1"===b||"0"===b?d=a(+b):m.test(b)&&(d="true"===b);break;case "number":if(0===b||1===b)d=!!b}return d},set:function(a,b,d,f){e.property.set(a,b,d,f,e.state.read)},get:function(a,b){var d;e.property.has(a,b)&&(d=e.property.get(a,b).toLowerCase(),d="mixed"===d?d:m.test(d)&&"true"===d);return d}}};
f.normalizeAria=g;f.normaliseAria=g;f.fn.extend({identify:function(a){var b=[],d=this.each(function(a,d){var e=d.id;if(!e){do e="anonymous"+n,n+=1;while(f("#"+e).length);d.id=e}b.push(e);return e});return f.isNumeric(a)?b[a]:d},aria:function(a,b){return h(this,a,b)},ariaRef:function(a,b){return h(this,a,b,"reference")},ariaState:function(a,b){return h(this,a,b,"state")},role:function(a){return void 0===a?this.attr("role"):this.attr("role",a)},removeRole:function(){return this.removeAttr("role")},
removeAria:l,removeAriaRef:l,removeAriaState:l,ariaVisible:function(a){return(a=e.state.read(a))?h(this,"hidden",a):this.removeAttr("hidden")},ariaFocusable:function(a){return h(this,"tabindex",e.state.read(a)?0:-1)}})})(jQuery);
