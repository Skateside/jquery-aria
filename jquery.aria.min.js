(function(f){function k(c,a,b,d){var r=a,m=f.isPlainObject(a),g=void 0===b&&!m;g||m?g&&m&&(a=Object.keys(a)[0]):(a={},a[r]=b);d&&e[d]||(d="property");return g?e[d].get(c[0],a):c.each(function(b,c){f.each(a,function(a,g){e[d].set(c,a,g,b)})})}function n(c){return this.each(function(a,b){e.property.unset(b,c)})}var p=/^(?:true|false)$/,q=0,t=String.prototype.startsWith||function(c,a){return 0===this.indexOf(c,a)},l=function(c){return null===c||void 0===c?"":String(c)},h=function(c){c=l(c).toLowerCase();
return t.call(c,"aria-")?c:"aria-"+c},u=function(c){return c},v=function(c){return f(c).identify(0)},e={property:{set:function(c,a,b,d,e){a=h(a);f.isFunction(b)&&(b=b.call(c,d,c.getAttribute(a)));f.isFunction(e)||(e=u);(c instanceof HTMLElement||void 0===b)&&c.setAttribute(a,e(b))},has:function(c,a){return c instanceof HTMLElement?c.hasAttribute(h(a)):!1},get:function(c,a){return e.property.has(c,a)?c.getAttribute(h(a)):void 0},unset:function(c,a){c instanceof HTMLElement&&c.removeAttribute(h(a))}},
reference:{set:function(c,a,b,d){e.property.set(c,a,b,d,v)},get:function(c,a){return e.property.has(c,a)?f("#"+e.property.get(c,a)):void 0}},state:{read:function a(b){var d=!0;switch(typeof b){case "boolean":d=b;break;case "string":b=b.toLowerCase();"mixed"===b?d=b:"1"===b||"0"===b?d=a(+b):p.test(b)&&(d="true"===b);break;case "number":if(0===b||1===b)d=!!b}return d},set:function(a,b,d,f){e.property.set(a,b,d,f,e.state.read)},get:function(a,b){var d;e.property.has(a,b)&&(d=e.property.get(a,b).toLowerCase(),
d="mixed"===d?d:p.test(d)&&"true"===d);return d}}};f.normalizeAria=h;f.normaliseAria=h;f.fn.extend({identify:function(a){var b=[],d=this.each(function(a,d){var e=d.id;if(!e){do e="anonymous"+q,q+=1;while(f("#"+e).length);d.id=e}b.push(e);return e});return f.isNumeric(a)?b[a]:d},aria:function(a,b){return k(this,a,b)},ariaRef:function(a,b){return k(this,a,b,"reference")},ariaState:function(a,b){return k(this,a,b,"state")},role:function(a){return void 0===a?this.attr("role"):this.attr("role",a)},addRole:function(a){var b=
f.isFunction(a);return this.role(function(d,e){var f=b?a.call(this,d,e):a,g=l(e).split(/\s+/);l(f).split(/\s+/).forEach(function(a){""!==a&&void 0!==a&&0>g.indexOf(a)&&g.push(a)});return g.join(" ")})},removeRole:function(a){var b=f.isFunction(a);return void 0===a?this.removeAttr("role"):this.role(function(d,e){var f=b?a.call(this,d,e):a,g=l(f).split(/\s+/);return l(e).split(/\s+/).filter(function(a){return 0>g.indexOf(a)}).join(" ")})},removeAria:n,removeAriaRef:n,removeAriaState:n,ariaVisible:function(a){return(a=
e.state.read(a))?k(this,"hidden",a):this.removeAttr("hidden")},ariaFocusable:function(a){return k(this,"tabindex",e.state.read(a)?0:-1)}})})(jQuery);
